<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MarcShop</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Bienvenue sur MarcShop</h1>
        <button id="panier-btn" onclick="window.location.href='panier.html'">üõí Panier (<span id="panier-count">0</span>)</button>
    </header>
    <main>
        <section id="produits">
            <!-- Les produits seront charg√©s ici -->
        </section>
        <section id="navigation">
            <button onclick="window.location.href='panier.html'">Voir Panier</button>
            <button onclick="window.location.href='paiement.html'">Payer</button>
            <button onclick="window.location.href='suivie.html'">Suivi de Commande</button>
        </section>
    </main>
    <footer>
        <p>&copy; 2025 MarcShop - Tous droits r√©serv√©s</p>
    </footer>
    <script src="scripts.js"></script>
    <script>
        // Charger les produits depuis le fichier produits.json
        function chargerProduits() {
            fetch('produits.json') // Charger le fichier JSON
                .then(response => response.json()) // Convertir la r√©ponse en JSON
                .then(produits => {
                    const produitsContainer = document.getElementById('produits');
                    produits.forEach(produit => {
                        // Cr√©er un √©l√©ment HTML pour chaque produit
                        const produitElement = document.createElement('div');
                        produitElement.classList.add('produit');
                        produitElement.innerHTML = `
                            <img src="${produit.image}" alt="${produit.nom}" class="produit-image">
                            <h3>${produit.nom}</h3>
                            <p>${produit.description}</p>
                            <p><strong>${produit.prix}‚Ç¨</strong></p>
                            <button onclick="ajouterAuPanier('${produit.nom}', '${produit.prix}', '${produit.description}', '${produit.image}')">Ajouter au Panier</button>
                        `;
                        produitsContainer.appendChild(produitElement);
                    });
                })
                .catch(error => {
                    console.error('Erreur lors du chargement des produits :', error);
                });
        }

        // Fonction pour ajouter un produit au panier
        function ajouterAuPanier(nom, prix, description, image) {
            const panier = JSON.parse(localStorage.getItem('panier')) || [];
            panier.push({ nom, prix, description, image });
            localStorage.setItem('panier', JSON.stringify(panier));
            alert('Produit ajout√© au panier');
            mettreAJourCompteurPanier();
        }

        // Mettre √† jour le compteur de produits dans le panier
        function mettreAJourCompteurPanier() {
            const panier = JSON.parse(localStorage.getItem('panier')) || [];
            document.getElementById('panier-count').textContent = panier.length;
        }

        // Charger les produits au chargement de la page
        window.onload = () => {
            chargerProduits();
            mettreAJourCompteurPanier(); // Mettre √† jour le compteur du panier
        };
    </script>
</body>
</html>
